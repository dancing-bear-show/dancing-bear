meta:
  name: mail_assistant_familiarize
  version: 2

# Adapted from cars-sre-utils familiarize capsule (capsule-only policy)
identity:
  name: Mail Assistant
  summary: Gmail/Outlook CLI for labels, filters/rules, signatures

familiarize_policy: capsule_only

read_order:
  - mail_assistant/.llm/DOMAIN_MAP.md

capsules_optional:
  - mail_assistant/.llm/CONTEXT.md
  - .llm/PR_POLICIES.yaml

unified_clis:
  - mail-assistant
  - llm

auth_pointer:
  file: .llm/CONTEXT.md
  section: Development Rules (do)

imperatives_quickstart:
  - ./bin/mail-assistant --agentic
  - ./bin/llm domain-map --write .llm/DOMAIN_MAP.md

directory_map:
  core: mail_assistant
  bin: bin

notes:
  - Use profiles in ~/.config/sre-utils/credentials.ini (avoid --credentials/--token)
  - Unified filters at config/filters_unified.yaml; derive provider configs, do not hand-edit outputs
  - Plan → Apply → Verify for both Gmail and Outlook flows
